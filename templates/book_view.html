<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ü–µ—Ä–µ–≤–æ–¥: {{ book_info.filename if book_info else '–ó–∞–≥—Ä—É–∑–∫–∞ –∫–Ω–∏–≥–∏' }}</title>
    <!-- <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"> -->
    <style>
        /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –¥–≤—É—Ö –∫–æ–ª–æ–Ω–æ–∫ */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            font-family: sans-serif;
            display: flex;
            overflow: hidden; /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –æ–±—â—É—é –ø—Ä–æ–∫—Ä—É—Ç–∫—É body */
        }

        /* –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å */
        #left-panel {
            width: 350px; /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
            flex-shrink: 0; /* –ù–µ —Å–∂–∏–º–∞—Ç—å—Å—è */
            height: 100vh; /* –ó–∞–Ω—è—Ç—å –≤—Å—é –≤—ã—Å–æ—Ç—É –æ–∫–Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ */
            overflow-y: auto; /* –í–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫—É –¥–ª—è –ø–∞–Ω–µ–ª–∏, –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –≤–ª–µ–∑–∞–µ—Ç */
            border-right: 1px solid #ccc;
            padding: 15px; /* –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
            box-sizing: border-box; /* –£—á–∏—Ç—ã–≤–∞—Ç—å padding –∏ border –≤ —à–∏—Ä–∏–Ω–µ */
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        #main-content {
            flex-grow: 1; /* –ó–∞–Ω—è—Ç—å –≤—Å–µ –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ */
            height: 100vh; /* –ó–∞–Ω—è—Ç—å –≤—Å—é –≤—ã—Å–æ—Ç—É –æ–∫–Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ */
            overflow-y: auto; /* –í–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫—É –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
            padding: 15px; /* –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
            box-sizing: border-box;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ */
        #left-panel h2 { margin-top: 0; font-size: 1.1em; word-break: break-word;}
        #left-panel h3 { margin-top: 15px; margin-bottom: 5px; font-size: 1em; border-bottom: 1px solid #eee; padding-bottom: 3px;}
        #left-panel p { margin: 10px 0; }
        #left-panel label { display: block; margin-bottom: 3px; font-size: 0.9em; font-weight: bold; }
        /* –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –¥–ª—è –∫–Ω–æ–ø–æ–∫ (–∫—Ä–æ–º–µ –∏–∫–æ–Ω–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π) */
        #left-panel button:not(.action-btn), #left-panel .button-link button { /* –ü—Ä–∏–º–µ–Ω—è–µ–º –∫–æ –≤—Å–µ–º –∫–Ω–æ–ø–∫–∞–º, –∫—Ä–æ–º–µ –∏–∫–æ–Ω–æ–∫ */
             cursor: pointer;
             background-color: #007bff; /* –°–∏–Ω–∏–π */
             color: white;
             border: none;
             border-radius: 4px;
             padding: 6px 10px;
             box-sizing: border-box;
             margin-bottom: 5px;
             text-align: center;
             font-size: 0.95em;
             width: 100%; /* –ö–Ω–æ–ø–∫–∏ –≤ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É */
         }
         #left-panel button:not(.action-btn):hover, #left-panel .button-link button:hover {
             background-color: #0056b3;
         }
         #left-panel button:disabled { /* –°—Ç–∏–ª—å –¥–ª—è –í–°–ï–• –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫ */
             background-color: #ccc !important; /* !important –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è */
             opacity: 0.7;
             cursor: not-allowed;
        }
         /* –°—Å—ã–ª–∫–∞-–∫–Ω–æ–ø–∫–∞ "–°–∫–∞—á–∞—Ç—å –≤—Å–µ" */
         #download-full-link {
              text-decoration: none;
              display: block;
         }
          #download-full-link.hidden {
               display: none;
           }
        #left-panel select {
            width: 100%;
            padding: 6px 10px;
            box-sizing: border-box;
            margin-bottom: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        #left-panel hr { margin: 15px 0; border: 0; border-top: 1px solid #eee; }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –æ–≥–ª–∞–≤–ª–µ–Ω–∏—è */
        #toc-list { list-style: none; padding-left: 0; margin-top: 5px; }
        .toc-item {
            padding: 5px 0;
            padding-left: calc(var(--level, 1) * 18px - 18px);
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: nowrap;
            font-size: 0.95em;
            line-height: 1.4;
            min-height: 28px;
        }
        .toc-item:last-child { border-bottom: none; }

        .toc-link-container {
             display: flex;
             align-items: center;
             flex-grow: 1;
             margin-right: 10px;
             overflow: hidden;
        }

        .toc-link {
            cursor: pointer; text-decoration: none; color: #0056b3;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: inline-block;
            max-width: 100%;
        }
        .toc-link:hover { text-decoration: underline; }
        /* –ò—Å–ø–æ–ª—å–∑—É–µ–º data-–∞—Ç—Ä–∏–±—É—Ç –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è */
        .toc-item[data-is-active="true"] > .toc-link-container > .toc-link { font-weight: bold; color: #000; }

        .toc-status {
             margin-left: 8px; font-size: 0.8em; border-radius: 3px;
             padding: 1px 4px; white-space: nowrap; flex-shrink: 0;
        }
        /* –°—Ç–∏–ª–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ */
        .status-not_translated { background-color: #eee; color: #555; }
        .status-translated { background-color: #dfd; color: #070; } /* –ï–¥–∏–Ω—ã–π –¥–ª—è translated/cached */
        .status-cached { background-color: #dfd; color: #070; } /* –û—Å—Ç–∞–≤–∏–º –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π */
        .status-processing { background-color: #ffe082; color: #a80; }
        .status-error { background-color: #fcc; color: #a00; font-weight: bold; } /* –û–±—â–∏–π –¥–ª—è –æ—à–∏–±–æ–∫ */
        .status-error_context_limit, .status-error_translation, .status-error_caching,
        .status-error_unknown, .status-error_extraction, .status-error_user,
        .status-error_network, [class*="status-error_start_"] {
             background-color: #fcc; color: #a00; font-weight: bold;
        }
        .status-completed_empty { background-color: #e0e0e0; color: #777; }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–Ω–æ–ø–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π —Å–ø—Ä–∞–≤–∞ */
        .toc-actions {
             display: flex;
             align-items: center;
             flex-shrink: 0;
             min-width: 60px; /* –ü–æ–¥–æ–±—Ä–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ */
             justify-content: flex-end;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∏–∫–æ–Ω–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π */
        .action-btn { /* –û–±–Ω–æ–≤–∏—Ç—å üîÑ */
            margin-left: 5px; text-decoration: none; font-size: 1.1em;
            cursor: pointer; vertical-align: middle; border: none;
            background: none; padding: 0; color: #007bff; flex-shrink: 0;
        }
        .action-btn:hover { color: #0056b3; }
        .download-section-link { /* –°–∫–∞—á–∞—Ç—å üíæ */
             margin-left: 8px;
             text-decoration: none; font-size: 0.9em;
             vertical-align: middle; color: #555;
             flex-shrink: 0;
         }
         .download-section-link:hover { color: #000; }
        .hidden { display: none !important; }
        .processing-indicator { margin-left: 5px; font-style: italic; color: #a80; flex-shrink: 0;}

        /* –°—Ç–∏–ª–∏ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
        #translation-display { margin-top: 0; padding: 15px; border: 1px solid #ddd; background-color: #f9f9f9; min-height: 100px; }
        #translation-display h3 { margin-top: 0; font-size: 1.1em; border-bottom: 1px solid #eee; padding-bottom: 5px; margin-bottom: 10px; }
        #translation-content p {
             margin: 0 0 1em 0; /* –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞ */
             line-height: 1.6; /* –ú–µ–∂—Å—Ç—Ä–æ—á–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª */
             /* text-indent: 1.5em; */ /* <--- –£–ë–ò–†–ê–ï–ú –ò–õ–ò –ö–û–ú–ú–ï–ù–¢–ò–†–£–ï–ú –≠–¢–£ –°–¢–†–û–ö–£ */
             white-space: normal; /* –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–±–µ–ª–æ–≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è */
        }

        /* –°–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–≥—Ä—É–∑–∫–µ TOC */
        #toc-loading-message { font-style: italic; color: gray; margin-top: 10px; }

    </style>
</head>
<body>
    <div id="left-panel">
        <h2>{{ book_info.filename if book_info else '–ö–Ω–∏–≥–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞' }}</h2>
        <p>
            <button onclick="document.getElementById('upload-redirect-form').submit();">–û—Ç–∫—Ä—ã—Ç—å –¥—Ä—É–≥—É—é –∫–Ω–∏–≥—É</button>
            <form id="upload-redirect-form" action="{{ url_for('index') }}" method="get" style="display: none;"></form>
        </p>

        {% if book_info %} {# –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –±–ª–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫–Ω–∏–≥–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ #}
            <p>
                <label for="model-select">–ú–æ–¥–µ–ª—å:</label><br>
                <select id="model-select" name="model_name">
                    <option value="">–ó–∞–≥—Ä—É–∑–∫–∞...</option>
                </select>
            </p>
            <p>
                <label for="language-select">–Ø–∑—ã–∫ –ø–µ—Ä–µ–≤–æ–¥–∞:</label><br>
                {% set current_lang = target_language | default('russian') %}
                <select id="language-select" name="target_language">
                     <option value="russian" {% if current_lang == 'russian' %}selected{% endif %}>Russian</option>
                     <option value="english" {% if current_lang == 'english' %}selected{% endif %}>English</option>
                     <option value="german" {% if current_lang == 'german' %}selected{% endif %}>German</option>
                     <option value="french" {% if current_lang == 'french' %}selected{% endif %}>French</option>
                     <option value="spanish" {% if current_lang == 'spanish' %}selected{% endif %}>Spanish</option>
                     <!-- –î–æ–±–∞–≤—å—Ç–µ –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏ -->
                </select>
            </p>
            <p>
                {% set can_translate_all = book_info.status not in ['processing', 'complete'] %}
                <button id="translate-all-btn" {% if not can_translate_all %}disabled{% endif %}>–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤—Å–µ –Ω–µ–ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–µ</button>
            </p>

            <p>
                {% set can_download_full = book_info.status in ['complete', 'complete_with_errors'] and (book_info.translated_count or 0) > 0 %}
                {# –ü–µ—Ä–µ–¥–∞–µ–º —è–∑—ã–∫ –≤ URL –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è #}
                <a id="download-full-link"
                   href="{{ url_for('download_full', book_id=book_id, lang=current_lang) }}"
                   class="{{ '' if can_download_full else 'hidden' }}"
                   target="_blank" rel="noopener noreferrer">
                     <button id="download-full-btn" {% if not can_download_full %}disabled{% endif %}>–°–∫–∞—á–∞—Ç—å –≤–µ—Å—å —Ç–µ–∫—Å—Ç (.txt)</button>
                </a>
                {# --- –ù–ê–ß–ê–õ–û –ù–û–í–û–ì–û –ë–õ–û–ö–ê --- #}
                <a id="download-epub-link"
                   href="{{ url_for('download_epub', book_id=book_id, lang=current_lang) }}"
                   class="{{ '' if can_download_full else 'hidden' }}" {# –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ –∂–µ —É—Å–ª–æ–≤–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ #}
                   style="display: inline-block; margin-top: 5px;" {# –ù–µ–±–æ–ª—å—à–æ–π –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É #}
                   target="_blank" rel="noopener noreferrer">
                     <button id="download-epub-btn" {% if not can_download_full %}disabled{% endif %}>–°–∫–∞—á–∞—Ç—å EPUB</button> {# –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ #}
                </a>
                 {# --- –ö–û–ù–ï–¶ –ù–û–í–û–ì–û –ë–õ–û–ö–ê --- #}
            </p>

            <hr>
            <h3>–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ</h3>

            {# –°–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–≥—Ä—É–∑–∫–µ/–ø–µ—Ä–µ–≤–æ–¥–µ TOC #}
            <p id="toc-loading-message" style="font-style: italic; color: gray;">–ó–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–µ—Ä–µ–≤–æ–¥ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—è...</p>

            <ul id="toc-list">
                {% if book_info and 'toc' in book_info and book_info.toc %}
                    {# –°–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ "–ó–∞–≥—Ä—É–∑–∫–∞..." #}
                    <script>
                        (function() {
                            var msg = document.getElementById('toc-loading-message');
                            if (msg) msg.style.display = 'none';
                        })();
                    </script>
                    {% for item in book_info.toc %}
                        {% set section_id = item.id %}
                        {% if section_id %}
                             {# –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç—É—Å –¥–ª—è –¢–ï–ö–£–©–ï–ì–û –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ #}
                             {% set current_status = book_info.sections.get(section_id, 'not_translated') %}
                             <li class="toc-item" style="--level: {{ item.level }};"
                                 data-section-id="{{ section_id }}"
                                 data-href="{{ item.href }}"
                                 data-status="{{ current_status }}"
                                 data-is-active="false">

                                 <div class="toc-link-container">
                                     <a href="#" class="toc-link" title="{{ item.title | default('') }} (ID: {{ section_id }})">
                                         {{ item.translated_title if item.translated_title else item.title | default('(–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è)') }}
                                     </a>
                                     <span class="toc-status status-{{ current_status }}">
                                        {# –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç—É—Å–∞ #}
                                        {% set status_text = '???' %}
                                        {% if current_status == 'error_context_limit' %} {% set status_text = 'Err:Limit' %}
                                        {% elif current_status == 'error_translation' %} {% set status_text = 'Err:API' %}
                                        {% elif current_status == 'error_caching' %} {% set status_text = 'Err:Cache' %}
                                        {% elif current_status == 'error_unknown' %} {% set status_text = 'Error' %}
                                        {% elif current_status == 'error_extraction' %} {% set status_text = 'Err:Extract' %}
                                        {% elif current_status == 'completed_empty' %} {% set status_text = 'Empty' %}
                                        {% elif current_status == 'translated' or current_status == 'cached' %} {% set status_text = 'Translated' %}
                                        {% elif current_status == 'processing' %} {% set status_text = 'Processing' %}
                                        {% elif current_status == 'not_translated' %} {% set status_text = 'Not Translated' %}
                                        {% endif %}
                                        {{ status_text }}
                                    </span>
                                     <span class="processing-indicator" style="{{ 'display: none;' if current_status != 'processing' else '' }}">(...)</span>
                                 </div>

                                  <div class="toc-actions">
                                      {# –ö–Ω–æ–ø–∫–∞ "–û–±–Ω–æ–≤–∏—Ç—å" –≤–∏–¥–Ω–∞ –¥–ª—è –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã—Ö, –ø—É—Å—Ç—ã—Ö –∏ –æ—à–∏–±–æ—á–Ω—ã—Ö #}
                                      <button class="action-btn update-translation-btn {{ 'hidden' if current_status in ['not_translated', 'processing'] }}"
                                            title="–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –∑–∞–Ω–æ–≤–æ / –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥">üîÑ</button>

                                      {# –°—Å—ã–ª–∫–∞ "–°–∫–∞—á–∞—Ç—å" –≤–∏–¥–Ω–∞ –¥–ª—è –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã—Ö –∏ –ø—É—Å—Ç—ã—Ö #}
                                      <a href="{{ url_for('download_section', book_id=book_id, section_id=section_id, lang=current_lang) }}"
                                         class="download-section-link {{ 'hidden' if current_status not in ['translated', 'completed_empty', 'cached'] }}"
                                         title="–°–∫–∞—á–∞—Ç—å —Ä–∞–∑–¥–µ–ª">üíæ</a>
                                 </div>
                             </li>
                        {% endif %} {# –ö–æ–Ω–µ—Ü if section_id #}
                    {% endfor %}
                {% else %}
                     {# –°–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ "–ó–∞–≥—Ä—É–∑–∫–∞...", –µ—Å–ª–∏ TOC –ø—É—Å—Ç –∏–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω #}
                     <script>
                        (function() {
                            var msg = document.getElementById('toc-loading-message');
                            if (msg) msg.style.display = 'none';
                        })();
                    </script>
                    <li>–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –∏–ª–∏ –ø—É—Å—Ç–æ.</li>
                {% endif %} {# –ö–æ–Ω–µ—Ü if book_info.toc #}
            </ul>
        {% else %}
             <p id="toc-loading-message-alt">–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–Ω–∏–≥—É, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ –∏ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.</p>
             {# –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –∑–∞–≥—Ä—É–∑–∫–µ, –µ—Å–ª–∏ book_info –Ω–µ—Ç #}
              <script>
                 (function() {
                     var msg = document.getElementById('toc-loading-message');
                     if (msg) msg.style.display = 'none';
                 })();
             </script>
        {% endif %} {# –ö–æ–Ω–µ—Ü –≤–Ω–µ—à–Ω–µ–≥–æ if book_info #}
    </div> <!-- –ö–æ–Ω–µ—Ü left-panel -->

    <div id="main-content">
         <div id="translation-display" style="display: none;"> {# –°–∫—Ä—ã–≤–∞–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é #}
             <h3><span id="translation-section-id">–†–∞–∑–¥–µ–ª –Ω–µ –≤—ã–±—Ä–∞–Ω</span></h3>
             <div id="translation-content"><p>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≥–ª–∞–≤—É –≤ –æ–≥–ª–∞–≤–ª–µ–Ω–∏–∏ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–ª–∏ –ø–µ—Ä–µ–≤–æ–¥–∞.</p></div>
        </div>
    </div> <!-- –ö–æ–Ω–µ—Ü main-content -->

    <!-- –ü–µ—Ä–µ–¥–∞–µ–º ID –∫–Ω–∏–≥–∏ –≤ JavaScript -->
    <script>
        const currentBookId = "{{ book_id | default('None') }}";
    </script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>